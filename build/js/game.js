!function(){var t={},e={};EntryPoint=Marionette.Object.extend({initialize:function(){this.triggerMethod("get:dictionary")},onGetDictionary:function(){var t=this;localStorage.getItem("dictionary")?this.triggerMethod("dictionary:stored"):$.get("assets/dictionary.json").success(function(e){t.dictionary=e,t.triggerMethod("dictionary:stored",e)})},onDictionaryStored:function(t){var t=this.getOption("dictionary"),e=t.length,i=[];getRandomWord=function(){var i=_.random(0,e-1);return t[i]};var n=getRandomWord();i.push(n),this.view=new Game.View.Main({dataset:{word:n}}),app.rootView.getRegion("content").show(this.view),this.bindEvents(this.view,this.childviewEvents)},childviewEvents:{pass:"onPassWord",correct:"onCorrectWord",next:"onNext"},onPassWord:function(t){console.log(t),t.model.set("guessed",!1),app.history.push(t.model)},onCorrectWord:function(t){console.log(t),t.model.set("guessed",!0),app.history.push(t.model)},onNext:function(t,e,i){this.triggerMethod("dictionary:stored")}}),t.Main=Backbone.Model.extend({defaults:function(){return{word:"Default Word",guessed:void 0}}}),t.History=Backbone.Collection.extend({model:t.Main,initialize:function(){}}),app.history=new t.History,e.Main=Marionette.View.extend({template:"#t-main",className:"game-content",initialize:function(e){var i=this;this.model=new t.Main(e.dataset),_.delay(function(){i.bindEvents(app.model,i.accelerometerModelEvents)},500)},templateContext:function(){var t=this.model.get("word").length,e=1,i=$(document).width(),n=.8*i/t/16,o=n<4?n:4;return{size:e+o}},accelerometerModelEvents:{change:"onGravityChange"},triggers:{'click [data-action="correct"]':"correct",'click [data-action="pass"]':"pass"},onGravityChange:function(t){var e=t.get("gravity").z,i=t.get("z");Math.abs(e)<4||Math.abs(e)<6,e<-4&&i>.8&&(this.unbindEvents(app.model,this.accelerometerModelEvents),this.triggerMethod("correct",this)),e>6&&i<-.8&&(this.unbindEvents(app.model,this.accelerometerModelEvents),this.triggerMethod("pass",this))},onDisableButtons:function(){this.$el.find("[data-action]").attr("disabled","disabled")},onPass:function(){this.triggerMethod("disable:buttons"),this.$el.addClass("pass"),this.triggerMethod("start:swipe:animation")},onStartSwipeAnimation:function(){var t=this;_.delay(function(){t.$el.addClass("swiped"),_.delay(function(){t.triggerMethod("next")},300)},300)},onCorrect:function(){this.triggerMethod("disable:buttons"),this.$el.addClass("correct"),this.triggerMethod("start:swipe:animation")}}),window.Game={View:e,Data:t,Entry:EntryPoint}}();
//# sourceMappingURL=game.js.map
