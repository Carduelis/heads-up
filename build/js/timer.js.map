{"version":3,"sources":["js/timer.js"],"names":["Data","View","EntryPoint","Marionette","extend","initialize","this","view","model","Backbone","time","app","getRegion","show","template","options","className","regions","RegionSetter","triggerMethod","modelEvents","change:time","change","onDecreaseTime","_this","get","_","delay","router","navigate","timeToSeconds","minutes","Math","seconds","timeToMinutes","onRender","templateContext","window","Entry"],"mappings":"CAAC,WACD,GAAAA,MAAAC,IAGAC,YAAAA,WAAaC,OAAAC,QACZC,WAAAA,WAECC,KAAAC,KAAA,GAAYN,GAAIA,OACfO,MAAAA,GAAOC,UAAIA,OACVC,KAAAA,OAGFC,IAAAA,SAAAC,UAAA,SAAAC,KAAAP,KAAqCC,QAM1BO,YAASb,KAAAG,QACrBC,SAAAA,EAAAA,SAAY,gBACXA,WAAA,SAAaU,GACbT,KAAAE,MAAAO,EAAAP,SAGWM,WAASb,KAAAG,QACrBC,SAAAA,EAAAA,SAAY,gBACXA,WAAA,SAAaU,GACbT,KAAAE,MAAAO,EAAAP,QAIDM,GAAAA,MAAUX,WADyBF,KAAAG,QAEnCY,SAAAA,WACAC,UAAS,QACTZ,QAAAA,GAAYa,cAAA,UAASH,WACpBV,WAAKc,SAAcJ,GACnBT,KANkCa,cAAA,kBAQlCC,aACAC,cAAW,iBAFCC,OAPsB,UAWRC,eAAA,WAAA,GAAAC,GAAAlB,KACtBI,EAAOJ,KAAKE,MAAMiB,IAAI,OAA1Bf,GAAIA,EACJgB,EAAAC,MAAIjB,WACHgB,GAAQ,EACPhB,EAAAA,MAAOA,IAAO,OAAdA,IACA,KAIDC,IAAIiB,OAAOC,SAAS,WAApBlB,SAAIiB,KAILE,cAxBkC,WAyBnCA,GAAAA,GAAAA,KAAetB,MAAAiB,IAAA,QACdM,EAAWC,KAAKxB,MAAMiB,EAAI,GAKzB,OAJDQ,SAAIF,EAAqBrB,GAAXsB,EACdC,QAAUvB,KACVuB,QAAIA,IAAUA,SAEbA,SAEDC,cAjCkC,WAkCnCA,GAAAA,GAAAA,KAAgB1B,MAAAiB,IAAA,QACfM,EAAWC,KAAKxB,MAAMiB,EAAI,GAKzB,OAJDQ,SAAIF,EAAqBrB,GAAXsB,EACdC,EAAUvB,KACVqB,EAAIA,IAAUA,GAEbA,GAEDI,SA1CkC,aA6CnCC,gBAAAA,WACC,OACCH,QAAY3B,KAAKwB,gBACjBC,QAAYzB,KAAK4B,oBAKpBG,OAAAA,OACCpC,KAAAA,EACAD,KAAAA,EACAsC,MAAAA","file":"timer.js","sourcesContent":["(function(){\r\nvar Data = {}, View = {};\r\n\r\n\r\nEntryPoint = Marionette.Object.extend({\r\n\tinitialize: function() {\r\n\t\tvar dataset = {};\r\n\t\tthis.view = new View.Timer({\r\n\t\t\tmodel: new Backbone.Model({\r\n\t\t\t\ttime: 10\r\n\t\t\t})\r\n\t\t});\r\n\t\tapp.rootView.getRegion('timer').show(this.view);\r\n\t},\r\n});\r\n\r\n\r\nvar Minutes = Marionette.View.extend({\r\n\ttemplate: _.template('<%-minutes%>'),\r\n\tinitialize: function(options) {\r\n\t\tthis.model = options.model\r\n\t}\r\n});\r\nvar Seconds = Marionette.View.extend({\r\n\ttemplate: _.template('<%-seconds%>'),\r\n\tinitialize: function(options) {\r\n\t\tthis.model = options.model\r\n\t}\r\n});\r\n\r\nView.Timer = Marionette.View.extend({\r\n\ttemplate: '#t-timer',\r\n\tclassName: 'timer',\r\n\tregions: new RegionSetter('minutes','seconds'),\r\n\tinitialize: function(options) {\r\n\t\tthis.triggerMethod('decrease:time');\r\n\t},\r\n\tmodelEvents: {\r\n\t\t'change:time' : 'onDecreaseTime',\r\n\t\t'change'\t: 'render'\r\n\t},\r\n\tonDecreaseTime: function() {\r\n\t\tvar time = this.model.get('time');\r\n\t\tif (time > 0) {\r\n\t\t\t_.delay(()=>{\r\n\t\t\t\ttime = time - 1;\r\n\t\t\t\tthis.model.set('time',time);\r\n\t\t\t},1000)\r\n\t\t} else {\r\n\r\n\t\t\tapp.router.navigate('results',{\r\n\t\t\t\ttrigger: true\r\n\t\t\t});\r\n\t\t}\r\n\t},\r\n\ttimeToSeconds: function () {\r\n\t\tvar time = this.model.get('time');\r\n\t\tvar minutes = Math.floor(time / 60);\r\n\t\tseconds = time - minutes * 60;\r\n\t\tif (seconds < 10) {\r\n\t\t\tseconds = '0'+seconds;\r\n\t\t}\r\n\t\treturn seconds\r\n\t},\r\n\ttimeToMinutes : function() {\r\n\t\tvar time = this.model.get('time');\r\n\t\tvar minutes = Math.floor(time / 60);\r\n\t\tseconds = time - minutes * 60;\r\n\t\tif (minutes < 10) {\r\n\t\t\tminutes = '0'+minutes;\r\n\t\t}\r\n\t\treturn minutes\r\n\t},\r\n\tonRender: function() {\r\n\t},\r\n\ttemplateContext: function() {\r\n\t\treturn {\r\n\t\t\t'seconds' : this.timeToSeconds(),\r\n\t\t\t'minutes' : this.timeToMinutes(),\r\n\t\t}\r\n\t}\r\n});\r\n\r\nwindow.Timer = {\r\n\tView: View,\r\n\tData: Data,\r\n\tEntry: EntryPoint\r\n}\r\n\r\n}());"]}