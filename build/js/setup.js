!function(){var e={},t={};EntryPoint=Marionette.Object.extend({initialize:function(){var e=[];e=localStorage.getItem("settings")?localRead("settings"):[{title:"Количество команд",type:"number",value:2},{title:"Время на раунд",type:"number",value:4,measure:"мин"},{title:"Категория",type:"select",value:1,options:[{id:1,name:"Общие слова"},{id:2,name:"Музыкальные группы и исполнители"},{id:3,name:"Продукты питания"},{id:4,name:"Гаджеты"}]}],this.view=new t.Settings({dataset:e}),app.rootView.getRegion("content").show(this.view)}}),e.Setting=Backbone.Model.extend({defaults:function(){return{title:"Заголовок настройки",type:"text",description:null,options:null,measure:null,value:null}}}),e.Settings=Backbone.Collection.extend({model:e.Setting}),t.SettingItem=Marionette.View.extend({template:"#t-setting-item",className:"list-group-item list-settings-item",events:{"input .form-control":"onInput"},onInput:function(e){this.model.set("value",e.currentTarget.value)}}),t.Settings=Marionette.CollectionView.extend({tagName:"ul",className:"list-group",childView:t.SettingItem,initialize:function(t){this.collection=new e.Settings(t.dataset),console.log(this.collection),this.bindEvents(app.model,this.accelerometerModelEvents)},collectionEvents:{change:"onModelChange"},accelerometerModelEvents:{change:"onGravityChange"},onModelChange:function(){localSave("settings",this.collection.models)},onGravityChange:function(e){x=9*e.get("gravity").x/2,y=16*e.get("gravity").y/2,Math.abs(x)>10/9&&Math.abs(y)>.625&&this.$el.css({transform:"translate3d("+x+"px, "+y+"px,0)"})}}),window.Setup={View:t,Data:e,Entry:EntryPoint}}();
//# sourceMappingURL=setup.js.map
