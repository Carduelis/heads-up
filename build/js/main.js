function _defineProperty(e,t,i){return t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}var _Marionette$View$exte,RegionSetter=function(){return this.arguments=arguments,1==this.arguments.length&&_.isArray(this.arguments[0])&&(this.arguments=arguments[0]),this.prefix="r-",this.builder()};RegionSetter.prototype.builder=function(){regions={};for(var e in this.arguments){var t=this.arguments[e];regions[t]={el:this.prefix+t,replaceElement:!0}}return regions};var AcceleratorData=Backbone.Model.extend({defaults:function(){return{x:0,y:0,z:0,alpha:0,beta:0,gamma:0,gravity:{x:0,y:0,z:0}}}}),App=Marionette.Application.extend({region:"#app",initialize:function(e){console.log("My options:",e),this.model=new AcceleratorData},onStart:function(){console.log(this.getRegion()),this.rootView=new RootView({model:this.model}),this.getRegion().show(this.rootView)}});app=new App,app.on("start",function(e){Backbone.history.start(),"undefined"!=typeof window.DeviceMotionEvent&&(window.ondevicemotion=function(e){var t=_.extend({},e.acceleration);t.gravity=e.accelerationIncludingGravity,e.rotationRate&&_.extend(t,e.rotationRate),app.model.set(t)})});var AcceleratorDebug=Marionette.View.extend((_Marionette$View$exte={template:"#t-accelerator-debug",className:"acc-debug",initialize:function(e){this.model=e.model},modelEvents:{change:"render"}},_defineProperty(_Marionette$View$exte,"initialize",function(){this.triggerMethod("set:render:time")}),_defineProperty(_Marionette$View$exte,"getNow",function(){return(new Date).getTime()}),_defineProperty(_Marionette$View$exte,"onSetRenderTime",function(){this.lastRenderTime=this.getNow()}),_defineProperty(_Marionette$View$exte,"checkRender",function(){var e=this.getNow()-this.lastRenderTime;e>100&&this.render()}),_defineProperty(_Marionette$View$exte,"onBeforeRender",function(){this.triggerMethod("set:render:time")}),_Marionette$View$exte)),RootView=Marionette.View.extend({template:"#t-root",className:"root",regions:new RegionSetter("navibar","statusbar","content","test","footer","sound"),initialize:function(e){this.model=e.model},onRender:function(){localHas("debug")&&this.getRegion("statusbar").show(new AcceleratorDebug({model:this.model})),this.getRegion("navibar").show(new Navibar.View),this.getRegion("sound").show(new Sound.ToggleView)}});$(document).ready(function(){app.start()});
//# sourceMappingURL=main.js.map
